<!DOCTYPE html >
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta http-equiv="Content-Language" content="en">
  <title>23Mar2014 Sun</title>
  <link rel="stylesheet" href="res/agenda.css" type="text/css">
  <script type="text/javascript" src="res/jquery/jquery.js">
 </script>
  <script type="text/javascript" src="res/agenda.js">
 </script>
  <script type="text/javascript" src="./res/tocBuilder.js">
 </script>
  <link href="./res/jquery/tocBuilder.css" rel="stylesheet" type="text/css">
  <script type="text/javascript">
      $(document).ready(function () {
      });
  </script>
</head>

<body>

<div id="agendaHeader">

<div class="fixedHeader">
<a href="agenda20140322.html" accesskey="-"><img alt="prev"
src="res/left.gif"></a><a href="agenda20140324.html" accesskey="+"><img
alt="next" src="res/right.gif"></a> 

<h1 style="display: inline; ">agenda 23Mar2014 Sun </h1>
</div>

<div id="agendaLinks">

<div id="tocContainer" class="tocContainer">

<div class="toc">
</div>
</div>

<p> </p>

<p><a
href="http://www.liberiangeek.net/2012/05/login-as-root-in-ubuntu-12-04-precise-pangolin/">Login
as Root in Ubuntu 12.04</a> </p>
<hr>
</div>
</div>

<div id="agendaBody">
<h3>moving /home to D</h3>
<pre>sudo rsync -v --archive --temp-dir=/D/. -XS /home/. "/media/jlanus/WD Passport/home_1/."  2 &gt;&gt; ~/rsyncHome.txt &gt;&gt; ~/rsyncHome.txt</pre>

<p></p>

<p></p>

<p><a href="https://help.ubuntu.com/community/Partitioning/Home/Moving">Ubuntu:
Partitioning/Home/Moving</a> </p>

<p><a href="https://help.ubuntu.com/community/LinuxFilesystemsExplained">Linux
filesystems explained</a> </p>

<p><a href="http://manpages.ubuntu.com/manpages/saucy/man8/mount.8.html">man
mount(8)</a> </p>

<p>The syntax of a fstab entry is :</p>
<pre>[Device] [Mount Point] [File System Type] [Options] [Dump] [Pass]</pre>

<table>
  <tbody>
    <tr>
      <td style="background-color:#FEB76D ;  ; text-align: center"><p
        class="line891"><strong>fields</strong> </p>
      </td>
      <td style="background-color:#FEB76D ;  ; text-align: center"><p
        class="line891"><strong>description</strong> </p>
      </td>
    </tr>
    <tr>
      <td><code><span class="anchor" id="line-25"></span></code>

        <p class="line862"><code>[device]</code></p>
      </td>
      <td><p class="line862">The device/partition (by /dev location or UUID)
        that contain a file system. </p>
      </td>
    </tr>
    <tr>
      <td><code><span class="anchor" id="line-26"></span></code>

        <p class="line862"><code>[mount point]</code></p>
      </td>
      <td><p class="line862">The directory on your root file system (aka mount
        point) from which it will be possible to access the content of the
        device/partition (note: swap has no mount point). Mount points should
        not have spaces in the names. </p>
      </td>
    </tr>
    <tr>
      <td><code><span class="anchor" id="line-27"></span></code>

        <p class="line862"><code>[file system type]</code></p>
      </td>
      <td><p class="line862">Type of file system (see <a
        href="https://help.ubuntu.com/community/LinuxFilesystemsExplained">LinuxFilesystemsExplained</a>).
        </p>
      </td>
    </tr>
    <tr>
      <td><code><span class="anchor" id="line-28"></span></code>

        <p class="line862"><code>[options]</code></p>
      </td>
      <td><p class="line862">Mount options of access to the device/partition
        (see <a
        href="http://manpages.ubuntu.com/manpages/saucy/man8/mount.8.html">the
        man page for <tt>mount</tt></a>). </p>
      </td>
    </tr>
    <tr>
      <td><code><span class="anchor" id="line-29"></span></code>

        <p class="line862"><code>[dump]</code></p>
      </td>
      <td><p class="line862">Enable or disable backing up of the
        device/partition (the command <em>dump</em>). This field is usually set
        to 0, which disables it. </p>
      </td>
    </tr>
    <tr>
      <td><code><span class="anchor" id="line-30"></span></code>

        <p class="line862"><code>[pass num]</code></p>
      </td>
      <td><p class="line862">Controls the order in which <em>fsck</em> checks
        the device/partition for errors at boot time. The root device should be
        1. Other partitions should be 2, or 0 to disable checking. </p>
      </td>
    </tr>
  </tbody>
</table>
<pre>UUID="b195dca1-1000-4200-9cde-f283c87239aa" /home ext4 defaults</pre>

<p></p>

<p></p>

<p></p>

<p>Attempted a backup with:</p>
<pre>sudo rsync  -XS /home/. "/media/jlanus/WD Passport/home/." &gt; ~/rsyncHome.txt
sudo rsync -vv --archive -XS /home/. "/media/jlanus/WD Passport/home/."  2&gt;&amp;1 &gt; ~/rsyncHome.txt</pre>

<p></p>
<pre>root@juan-T61:/# blkid
/dev/sda1: LABEL="C" UUID="00C4454DC445465E" TYPE="ntfs" 
/dev/<strong>sda2</strong>: LABEL="D" UUID="<strong>b195dca1-1000-4200-9cde-f283c87239aa</strong>" TYPE="ext4" 
/dev/sda5: UUID="5d39b2e7-6007-410c-8de9-35ae0606ba24" TYPE="ext4" 
/dev/sda6: UUID="dd7a8ca6-3c15-44e1-afcc-7e6d9f6c73db" TYPE="swap" </pre>

<p> </p>

<p><code>rsync</code> did not copy the symlinks in the backup to WD Passport
tests, with flag <code>--copy-links</code> while with <code>--links</code> the
links are recreated. </p>

<p><a href="http://linux.die.net/man/1/rsync">rsync man page</a> </p>

<p><code>--archive</code> is equivalent to <code>-rlptgoD</code>. It is a quick
way of saying you want recursion and want to preserve almost everything (with
-H being a notable omission). Note that -a does not preserve hardlinks, because
finding multiply-linked files is expensive. You must separately specify -H.</p>

<p><code>-r, --recursive</code> This tells rsync to copy directories
recursively. See also --dirs (-d).</p>

<p><code>-u, --update</code> This forces rsync to skip any files which exist on
the destination and have a modified time that is newer than the source file.
</p>

<p><code>-l, --links</code> When symlinks are encountered, recreate the symlink
on the destination. </p>

<p><code>-L, --copy-links</code> When symlinks are encountered, the item that
they point to (the referent) is copied, rather than the symlink. </p>

<p><code>-p, --perms</code> This option causes the receiving rsync to set the
destination permissions to be the same as the source permissions. </p>

<p><code>-o, --owner</code> This option causes rsync to set the owner of the
destination file to be the same as the source file, but only if the receiving
rsync is being run as the super-user (see also the --super and --fake-super
options). </p>

<p><code>-g, --group</code> This option causes rsync to set the group of the
destination file to be the same as the source file. </p>

<p><code>-D</code> The <code>-D</code> option is equivalent to <code>--devices
--specials</code>. </p>

<p><code>-t, --times</code> This tells rsync to transfer modification times
along with the files and update them on the remote system. </p>

<p><code>-X, --xattrs</code> This option causes rsync to update the remote
extended attributes to be the same as the local ones. </p>

<p><code>-S, --sparse</code> Try to handle sparse files efficiently so they
take up less space on the destination. </p>

<p><code>-n, --dry-run</code> This makes rsync perform a trial run that doesn't
make any changes (and produces mostly the same output as a real run). </p>

<p><code>--files-from=FILE</code> Using this option allows you to specify the
exact list of files to transfer (as read from the specified FILE or - for
standard input). </p>

<p><code>--list-only</code> This option will cause the source files to be
listed instead of transferred. It is inferred if there is a single source arg
and no destination specified. </p>

<p> </p>

<p> </p>

<p> </p>

<p> </p>

<p> </p>

<p> </p>

<p> </p>

<p> </p>

<p> </p>
</div>
</body>
</html>
