<!DOCTYPE html >
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta http-equiv="Content-Language" content="en">
  <title>28Apr2014 Mon</title>
  <link rel="stylesheet" href="res/agenda.css" type="text/css">
  <script type="text/javascript" src="res/jquery/jquery.js">
 </script>
  <script type="text/javascript" src="res/agenda.js">
 </script>
  <script type="text/javascript" src="./res/tocBuilder.js">
 </script>
  <link href="./res/jquery/tocBuilder.css" rel="stylesheet" type="text/css">
  <script type="text/javascript">
      $(document).ready(function () {
      });
  </script>
</head>

<body>

<div id="agendaHeader">

<div class="fixedHeader">
<a href="agenda20140427.html" accesskey="-"><img alt="prev"
src="res/left.gif"></a><a href="agenda20140429.html" accesskey="+"><img
alt="next" src="res/right.gif"></a> 

<h1 style="display: inline; ">agenda 28Apr2014 Mon </h1>
</div>

<div id="agendaLinks">

<div id="tocContainer" class="tocContainer">

<div class="toc">
</div>
</div>

<p> </p>

<p> </p>
<hr>
</div>
</div>

<div id="agendaBody">
<h3>Característica personalizada 01NUM996R1029</h3>

<p>Luego de estudiar la información disponible, no sobre la nueva
característica sino sobre el ambiente donde se ejecuta, no pudimos llegar a
conclusiones sólidas. </p>

<p>Elegimos entonces observar los cambios realizados en el código para la
implementación de una característica personalizada anterior, para mayor
seguridad. </p>

<p>Buscamos el COPY CARACTPER-029 y una versión inmediata anterior y ejecutamos
un side-by-side diff con el comando: </p>

<p><code>sdiff -w 162 CARACTPER-029.PROC-V03 CARACTPER-029.PROC</code></p>

<p>Lo mismo hicimos con los COPYs .WS. </p>

<p>La salida del sdiff luso en evidencia los cambios, que son pocas líneas
estratégicamente ubicadas: </p>
<pre style="font-size:66%;">*CARACTPER-029.PROC.v.0003.                                        |       *CARACTPER-029.PROC.v.0004.
******************************************************************         ******************************************************************
*    CALCULO DE LAS CARACTERSITICAS PERSONALIZADAS SECUENCIA 029 *         *    CALCULO DE LAS CARACTERSITICAS PERSONALIZADAS SECUENCIA 029 *
*    PARA RIPLEY.                                                *         *    PARA RIPLEY.                                                *
******************************************************************         ******************************************************************
                                                                   &gt;       * STT0004    | R18908 - Se agrega caracteristica 01NUM996R1029   *
                                                                   &gt;       * 21-ABR-2014|    REQ. CQ. 18908.                                *
                                                                   &gt;       * LUIS GOMEZ |                                                   *
                                                                   &gt;       ******************************************************************
 ...
 0000-LLENAR-VEC-PERSONALIZ-029.                                            0000-LLENAR-VEC-PERSONALIZ-029.                 
* 1                                                                        * 1                                                               
         ADD   1                 TO  I-VAR-PER                                      ADD   1                 TO  I-VAR-PER                    
         MOVE "00DEM031000    "  TO  NOMBRE-VAR-PER(I-VAR-PER)                      MOVE "00DEM031000    "  TO  NOMBRE-VAR-PER(I-VAR-PER)    
         MOVE  FUNCTION LENGTH(00DEM031000) TO L-AUX                                MOVE  FUNCTION LENGTH(00DEM031000) TO L-AUX              
         MOVE  00DEM031000(1:L-AUX)  TO                                             MOVE  00DEM031000(1:L-AUX)  TO                           
                             VAL-VAR-PER(I-VAR-PER)(1:L-AUX)                                            VAL-VAR-PER(I-VAR-PER)(1:L-AUX)      
 ...
                                                                   &gt; R18908* 27                                                              
                                                                   &gt; R18908         ADD   1                 TO  I-VAR-PER                    
                                                                   &gt; R18908         MOVE "01NUM996R1029"  TO  NOMBRE-VAR-PER(I-VAR-PER)      
                                                                   &gt; R18908         MOVE  FUNCTION LENGTH(01NUM996R1029) TO L-AUX            
                                                                   &gt; R18908         MOVE  01NUM996R1029(1:L-AUX)  TO                         
                                                                   &gt; R18908                             VAL-VAR-PER(I-VAR-PER)(1:L-AUX)      
      .                                                                          .
 0000-INICIALIZAR-CARAC-EXT-29.                                             0000-INICIALIZAR-CARAC-EXT-29.                                   
*----------------------------------------------------------------*         *----------------------------------------------------------------*
*0000-INICIALIZAR-CARAC-EXT-29.                                  *         *0000-INICIALIZAR-CARAC-EXT-29.                                  *
*       SE INICIALIZAN LAS VARIABLES DE LA PERSONALIZACION # 29  *         *       SE INICIALIZAN LAS VARIABLES DE LA PERSONALIZACION # 29  *
*----------------------------------------------------------------*         *----------------------------------------------------------------*
     MOVE ALL        "  -1" TO PER-29-NIVEL-02-NUM                   CQ9966     MOVE ALL        "  -1" TO PER-29-NIVEL-02-NUM                
                               PER-29-NIVEL-01-EXP                   R12047                               PER-29-NIVEL-01-EXP                
                               PER-29-NIVEL-01-END-04                R12047                               PER-29-NIVEL-01-END-04             
     MOVE ALL "         -1" TO PER-29-NIVEL-01-END-11                R12047     MOVE ALL "         -1" TO PER-29-NIVEL-01-END-11             
                                                                   &gt; R18908     MOVE ZEROS             TO 01NUM996R1029 
     PERFORM  9999-CARAC-GENERALES                                              PERFORM  9999-CARAC-GENERALES
     .                                                                          .

 2249-PROCESE-CARCT-00NUM-EXT-29.                                    CQ9966 2249-PROCESE-CARCT-00NUM-EXT-29.                                 
******************************************************************   CQ9966******************************************************************
*2249-PROCESE-CARCT-00NUM-EXT-29.                                    CQ9966*2249-PROCESE-CARCT-00NUM-EXT-29.                                 
*     CALCULA CARACTERISTICAS NIVEL 00NUM Y 02NUM RIPLEY             CQ9966*     CALCULA CARACTERISTICAS NIVEL 00NUM Y 02NUM RIPLEY          
******************************************************************   CQ9966******************************************************************
     MOVE ALL      "  -1" TO  PER-29-NIVEL-00-NUM                    CQ9966     MOVE ALL      "  -1" TO  PER-29-NIVEL-00-NUM                 
     MOVE COD-SUS-ABD07   TO  PER-29-COD-SUS-RPL                     R12047     MOVE COD-SUS-ABD07   TO  PER-29-COD-SUS-RPL                  
 ...
*** 00NUM997RO029 *** Num TDC abiertas RIPLEY                        R12047*** 00NUM997RO029 *** Num TDC abiertas RIPLEY                     
       IF COD-CTA-ABD07 = 02  AND  COD-SUS-RPL                       R12047       IF COD-CTA-ABD07 = 02  AND  COD-SUS-RPL                    
         MOVE ZEROS    TO   00NUM997RO029                            R12047         MOVE ZEROS    TO   00NUM997RO029                         
         IF REG-ABIERTO-CARACT = 1 AND GARANTE-ABD07 = 0             R12047         IF REG-ABIERTO-CARACT = 1 AND GARANTE-ABD07 = 0          
           MOVE 1   TO   00NUM997RO029                               R12047           MOVE 1   TO   00NUM997RO029                            
         END-IF                                                      R12047         END-IF                                                   
       END-IF                                                        R12047       END-IF                                                     
*                                                                    R12047*                                                                 
*** 00NUM996RO029 *** Num TDC abiert ult año diferentes a RIPLEY     R12047*** 00NUM996RO029 *** Num TDC abiert ult año diferentes a RIPLEY  
       IF COD-CTA-ABD07 = 02  AND  NOT COD-SUS-RPL                   R12047       IF COD-CTA-ABD07 = 02  AND  NOT COD-SUS-RPL                
         MOVE ZEROS    TO   00NUM996RO029                            R12047         MOVE ZEROS    TO   00NUM996RO029                         
         IF REG-ABIERTO-CARACT = 1  AND  GARANTE-ABD07 = 0           R12047         IF REG-ABIERTO-CARACT = 1  AND  GARANTE-ABD07 = 0        
           IF RUN-DATE-CARACT &gt; 0  AND  FECHA-APERT-CARACT &gt; 0       R12047           IF RUN-DATE-CARACT &gt; 0  AND  FECHA-APERT-CARACT &gt; 0    
             IF MESES-MADUR-CARACT &lt;= 12                             R12047             IF MESES-MADUR-CARACT &lt;= 12                          
               MOVE 1  TO 00NUM996RO029                              R12047               MOVE 1  TO 00NUM996RO029                           
             END-IF                                                  R12047             END-IF                                               
           ELSE                                                      R12047           ELSE                                                   
             MOVE "  -3" TO 00NUM996RO029(1:4)                       R12047             MOVE "  -3" TO 00NUM996RO029(1:4)                    
           END-IF                                                    R12047           END-IF                                                 
         ELSE                                                        R12047         ELSE                                                     
           MOVE "  -2" TO 00NUM996RO029(1:4)                         R12047           MOVE "  -2" TO 00NUM996RO029(1:4)                      
         END-IF                                                      R12047         END-IF                                                   
       END-IF                                                        R12047       END-IF                                                     
                                                                   &gt; R18908*                                                                 
                                                                   &gt; R18908*** 01NUM996R1029 *** Num TDC abiertas Falabella                  
                                                                   &gt; R18908       IF COD-CTA-ABD07 = 02                                      
                                                                   &gt; R18908          MOVE COD-SUS-ABD07 TO WS-SUS-057                        
                                                                   &gt; R18908          IF COD-FALA-057                                         
                                                                   &gt; R18908             IF REG-ABIERTO-CARACT = 1                            
                                                                   &gt; R18908                MOVE 1 TO 01NUM996R1029                           
                                                                   &gt; R18908             END-IF                                               
                                                                   &gt; R18908          END-IF                                                  
                                                                   &gt; R18908       END-IF                                                     
*** 01NUM996R1029 *** Existe TDC abierta Ripley
    ?  IF COD-CTA-ABD07 = 02                    *&gt; de FD  MAESTRO-CREDIT COMPLETO-ABD07
    ?     MOVE COD-SUS-ABD07 TO WS-SUS-057      *&gt; codigo suscriptor del maestro de créditos
          IF COD-SUS-RPL                        *&gt; cod de suscriptor 0200030 (Ripley) en 01 PERSONALIZACION-29
             IF REG-ABIERTO-CARACT = 1
                MOVE 1 TO 01NUM996R1029
             END-IF
          END-IF
       END-IF
*                                                                    R12047*                                                                 
*** 00NUM995TO029 *** Numero de restructuraciones                    R12047*** 00NUM995TO029 *** Numero de restructuraciones                 
       IF GARANTE-ABD07 = 0                                          R12047       IF GARANTE-ABD07 = 0                                       
         MOVE ZEROS    TO   00NUM995TO029                            R12047         MOVE ZEROS    TO   00NUM995TO029                         
         IF ESTADO-ORIGEN-ABD07 = 1                                  R12047         IF ESTADO-ORIGEN-ABD07 = 1                               
           MOVE 1   TO   00NUM995TO029                               R12047           MOVE 1   TO   00NUM995TO029                            
         END-IF                                                      R12047         END-IF                                                   
       ELSE                                                          R12047       ELSE                                                       
         MOVE "  -2" TO 00NUM995TO029(1:4)                           R12047         MOVE "  -2" TO 00NUM995TO029(1:4)                        
       END-IF                                                        R12047       END-IF                                                     
 ...</pre>

<p>Comenzamos a agregar código y nos percatamos de que ya había una
característica 01NUM996R1029, así que detuvimos el desarrollo y pusimos una
consulta, y la respuesta fué que ya habían desarrollado esa característica
internamente. </p>

<p>De hecho, el código está a la vista en las líneas con tag R18908. De hecho.
El estudio de esas líneas nos había producido confusión, pero como aludía a
Falabella y no a Ripley decidimos ignorarlo. </p>

<p>Hubo una onfusión entre Ripley y Falabella. El pseudocódigo del Cliente dice
"Falabella", mientras que el de Globant dice "Ripley". Nosotros optamos por la
versión de Globant por que es la última, revisada y aprobada. Caso contrario
habríamos usado <code>COD-FALA-057</code> en vez de <code>COD-SUS-RPL</code> y
habríamos notado enseguida que nuestro código era idéntico al existente, con
cierta satisfacción,. </p>

<p> </p>

<p> </p>

<p> </p>

<p> </p>

<p> </p>

<p> </p>

<p> </p>

<p> </p>

<p> </p>

<p> </p>
</div>
</body>
</html>
