<!DOCTYPE html >
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta http-equiv="Content-Language" content="en">
  <title>21Mar2014 Fri</title>
  <link rel="stylesheet" href="res/agenda.css" type="text/css">
  <script type="text/javascript" src="res/jquery/jquery.js">
 </script>
  <script type="text/javascript" src="res/agenda.js">
 </script>
  <script type="text/javascript" src="./res/tocBuilder.js">
 </script>
  <link href="./res/jquery/tocBuilder.css" rel="stylesheet" type="text/css">
  <script type="text/javascript">
      $(document).ready(function () {
      });
  </script>
</head>

<body>

<div id="agendaHeader">

<div class="fixedHeader">
<a href="agenda20140320.html" accesskey="-"><img alt="prev"
src="res/left.gif"></a><a href="agenda20140322.html" accesskey="+"><img
alt="next" src="res/right.gif"></a> 

<h1 style="display: inline; ">agenda 21Mar2014 Fri </h1>
</div>

<div id="agendaLinks">

<div id="tocContainer" class="tocContainer">

<div class="toc">
</div>
</div>

<p> </p>

<p><a href="http://mongodb.github.io/node-mongodb-native/">The Node.JS MongoDB
Driver Manual</a>  </p>
<hr>
</div>
</div>

<div id="agendaBody">
<h3>web server</h3>

<p></p>
<pre>var express = require('express');
var fs = require('fs');
var MongoClient = require('mongodb').MongoClient; // Driver for connecting to MongoDB

MongoClient.connect('mongodb://localhost:27017/exams', function(err, db) {
  if(err) { throw err; } else { console.log( 'connected' ); }
  // point to the exams collection
  var questions = db.collection("questions");
  var examDefs = db.collection("examDefs");

  var app = express.createServer(express.logger());
  // var salutation = fs.readFileSync('index.html');
  app.use('/doc', express.static(__dirname + '/../doc'));
  app.post('grade', function(request, response) { console.log('grading requested'); });
  // app.use('/imag', express.static(__dirname + '/imag'));
  // app.use(express.static(__dirname + '/'));
  // app.get('/', function(request, response) {
  //   response.send( salutation.toString() );
  // });

  var port = process.env.PORT || 8080;
  app.listen(port, function() {
    console.log("Listening on " + port);
    console.log("http://localhost:" + port + "/");
    console.log("Directory: " + __dirname);
  });

});
</pre>

<p> </p>

<p> </p>

<p> </p>

<p> </p>

<p> </p>

<p> </p>

<p> </p>

<p> </p>

<p> </p>

<p> </p>

<p> </p>
</div>
</body>
</html>
